<!DOCTYPE html>
<html>
<head>
  <title>上中下三个文本框示例</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    .input-container {
      width: 90%;
      margin-bottom: 20px;
    }

    #topInput,
    #middleInput,
    #bottomInput {
      width: 100%;
      height: 23vh;
      box-sizing: border-box;
    }
    .resultDiv{
      border: 1px solid #000000;
      overflow-y: auto;
      text-align: left;
    }
    .redColor {
      color: red;
    }
  </style>
  <script src="https://cdn.staticfile.org/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
<div>敏感词<span style="color: red">(从Excel中复制，一个敏感词一行)</span>：</div>
<div class="input-container">
  <textarea  id="topInput"></textarea>
</div>
<div>待检测文章：</div>
<div class="input-container">
  <textarea  id="middleInput"></textarea>
</div>
<div>结果：</div>
<div class="input-container">
  <div class="resultDiv" id="bottomInput"></div>
</div>
<button id="submitButton">提交</button>

<script>
  $(document).ready(function() {
    function parseText(str, index) {
      if (index < 0){
        return str;
      }else {
        return '<span class="redColor">'+str+'</span>'
      }
    }

    $("#submitButton").click(function() {
      let topText = $("#topInput").val();
      let minGanArr = [];
      if (topText){
        minGanArr = topText.split(/\n/);
      }else {
        $("#bottomInput").html('');
        alert('请输入敏感词列表');
        return;
      }
      minGanArr = minGanArr.map(function(element) {
        return element.trim().toLowerCase();
      });
      let middleText = $("#middleInput").val();
      if (!middleText){
        $("#bottomInput").html('');
        alert('请输入待检测文章');
        return;
      }
      let arr = middleText.split(/\s+/);
      let resArr = [];
      if (arr != null && arr.length > 0){
        for (let i=0; i<arr.length; i++){
          let index = -1;//minGanArr.indexOf(arr[i]);
          for (let j=0;j<minGanArr.length;j++){
            if (minGanArr[j] && arr[i].toLowerCase().indexOf(minGanArr[j]) >= 0){
              index = j;
              break;
            }
          }
          resArr.push(parseText(arr[i],index))
        }
        $("#bottomInput").html(resArr.join(" "));
      }else {
        $("#bottomInput").html(middleText);
      }
    });

    $("#topInput").html("Insecticidal\n" +
            "Anti-toxic\n" +
            "Anti-mildew\n" +
            "Waterproof\n" +
            "Dustproof\n" +
            "Antifouling\n" +
            "Preservatives\n" +
            "Sterilization\n" +
            "Insecticide\n" +
            "UV (Ultraviolet)\n" +
            "Antimicrobial\n" +
            "Used to prevent\n" +
            "Eliminate\n" +
            "Repel or slow down any pest\n" +
            "Anti-oxidation\n" +
            "Mildew proof\n" +
            "Bacteriostatic\n" +
            "Antibacterial\n" +
            "Anti-virus\n" +
            "Filter air\n" +
            "Resist ultraviolet rays\n" +
            "Disinfect\n" +
            "Prevent or inhibit the growth of bacteria\n" +
            "Antifungal\n" +
            "Allergens\n" +
            "Filters\n" +
            "Mites\n" +
            "Dust\n" +
            "Insect repellent\n" +
            "Insects\n" +
            "Pests\n" +
            "Water filtration\n" +
            "Anti-Mites\n" +
            "Inhibit-Algae\n" +
            "Sanitize-Blight\n" +
            "Sterilize\n" +
            "Insect prevention\n" +
            "Resistant for mosquitoes & ants\n" +
            "Material: High-quality PVC\n" +
            "Nontoxic\n" +
            "Healthy\n" +
            "Quality: Non-slip\n" +
            "Anti-Fouling\n" +
            "Disinfect\n" +
            "Repel insects\n" +
            "Remove allergens\n" +
            "Prevent\n" +
            "Bacteria\n" +
            "Antibacterial\n" +
            "Mildew\n" +
            "Resistant\n" +
            "Anti-flu\n" +
            "Ultraviolet\n" +
            "Light/UV\n" +
            "Germs\n" +
            "Bug\n" +
            "Anti-Bacteria\n" +
            "Stop-Microbe/Mildew\n" +
            "Destroy\n" +
            "Fungal/Fungus\n" +
            "Repel-Pesticides\n" +
            "Anti-fouling\n" +
            "Antifungal\n" +
            "Antimicrobial\n" +
            "Antifungal\n" +
            "Antibacterial\n" +
            "Anti-fouling\n" +
            "Preventing\n" +
            "Destroying\n" +
            "Repelling\n" +
            "Mitigating any pest\n" +
            "Anti-mold\n" +
            "Pesticide\n" +
            "Resistant\n" +
            "Non-toxic\n" +
            "Odorless\n" +
            "Germs\n" +
            "Safety\n" +
            "Remove\n" +
            "Residue\n" +
            "Sterilize\n" +
            "Disinfect\n" +
            "Repel insects\n" +
            "Remove allergens\n" +
            "Drug\n" +
            "Antibiotic\n" +
            "Non-poisonous\n" +
            "All natural\n" +
            "Mold\n" +
            "Anti\n" +
            "Eco-friendly\n" +
            "Environment friendly\n" +
            "Moisture\n" +
            "Infection\n" +
            "Toxic\n" +
            "Hygiene\n" +
            "BPA-Free\n" +
            "Micro-bio\n" +
            "Non-injurious\n" +
            "Anti-Bacterial vinyl\n" +
            "Repellent\n" +
            "Virus\n" +
            "Mosquitos\n" +
            "Protect\n" +
            "Chemical\n" +
            "Hypoallergenic\n" +
            "Mildew\n" +
            "Rat\n" +
            "Pest\n" +
            "Rodent\n" +
            "Mouse\n" +
            "Harmless\n" +
            "Waterproof\n" +
            "Against mildew\n");

  });
</script>
</body>
</html>